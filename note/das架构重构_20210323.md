# das架构重构

## 整体:

- [x] identity现在返回的是int类型
- [x] 每个领域设计了独立接口, 独立日志信息
- [x] 实现router里新增的api, 添加注释以及单元测试
- [x] 原api的接口返回值不再是entity, 而是新的对应接口
- [x] Delete接口直接删除数据, 软删除功能通过update来实现
- [x] 去掉了owner_group字段
- [x] 为全部字段设置了get方法
- [x] IsDeleted() bool 改为了GetDelFlag() int
- [x] 错误编号按领域名称顺序编号



## mysql cluster:

- [x] entity
  - [x] 增加函数GetMySQLServerIDList()

- [x] repo
  - [x] 增加函数GetByEnv(), GetByName(), GetMySQLServerIDList()
- [x] service
  - [x] 增加函数GetByEnv(), GetByName(), GetMySQLServerIDList()
- [x] api
  - [x] 增加GetMySQLClusterByEnv(), GetMySQLClusterByName(), GetMySQLServerIDList(), DeleteMySQLClusterByID()

## mysql server:

- [x] entity
- [x] repo
  - [x] 增加函数GetByClusterID(), GetByHostInfo()
- [x] service
  - [x] 增加GetByClusterID(), GetByHostInfo()
- [x] api
  - [x] 增加GetMySQLServerByClusterID(), GetMySQLServerByHostInfo(), DeleteMySQLServerByID()


