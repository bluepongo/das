@baseURL = localhost:6090
@token = f3171bd9-beec-11ec-acc0-000c291d6734
@cluster_id = 1
@id = 2
@host_ip = 192.168.1.2
@port_num = 3306
@server_name = test
@service_name = test
@new_host_ip = 192.168.1.1
@new_port_num = 3306
@deployment_type = 1
@update_id = 26
@update_cluster_id = 97
@del_flag = 0

### get all mysql servers
GET http://{{baseURL}}/api/v1/metadata/mysql-server
Content-Type: application/json

{
    "token": "{{token}}"
}

### get mysql server by cluster-id
GET http://{{baseURL}}/api/v1/metadata/mysql-server/cluster-id
Content-Type: application/json

{
    "token": "{{token}}",
    "cluster_id": {{cluster_id}}
}


### get mysql server by id
GET http://{{baseURL}}/api/v1/metadata/mysql-server/get
Content-Type: application/json

{
    "token": "{{token}}",
    "id": {{id}}
}

### get mysql server by id
GET http://{{baseURL}}/api/v1/metadata/mysql-server/host-info
Content-Type: application/json

{
    "token": "{{token}}",
    "host_ip": "{{host_ip}}",
    "port_num": {{port_num}}
}

### judge if serve is master
GET http://{{baseURL}}/api/v1/metadata/mysql-server/is-master/host-info
Content-Type: application/json

{
    "token": "{{token}}",
    "host_ip": "{{host_ip}}",
    "port_num": {{port_num}}
}

### get mysql cluster by mysql server id
GET http://{{baseURL}}/api/v1/metadata/mysql-server/mysql-cluster
Content-Type: application/json

{
    "token": "{{token}}",
    "id": {{id}}
}

### add new mysql server
POST http://{{baseURL}}/api/v1/metadata/mysql-server
Content-Type: application/json

{
    "token": "{{token}}",
    "cluster_id": {{cluster_id}},
    "server_name": "{{server_name}}",
    "service_name": "{{service_name}}",
    "host_ip": "{{new_host_ip}}",
    "port_num": {{new_port_num}},
    "deployment_type": {{deployment_type}}
}

### update mysql server by id
POST http://{{baseURL}}/api/v1/metadata/mysql-server/update
Content-Type: application/json

{
    "token": "{{token}}",
    "id": {{update_id}},
    "cluster_id": {{update_cluster_id}},
    "del_flag": {{del_flag}}
}

### delete mysql server by id
POST http://{{baseURL}}/api/v1/metadata/mysql-server/delete
Content-Type: application/json

{
    "token": "{{token}}",
    "id": {{update_id}}
}