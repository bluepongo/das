{
    "swagger": "2.0",
    "info": {
        "description": "das is shortcut for Database Autonomy Service, it provides self-perception, repair, optimization, and security database service.",
        "title": "DAS",
        "contact": {
            "name": "Romber Li",
            "url": "http://www.github.com/romberli/das",
            "email": "romber2001@gmail.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "basePath": "/api/v1",
    "paths": {
        "/api/v1/alert/email": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "alert"
                ],
                "summary": "send email",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": {\"code\": 0, \"message\": \"send email completed successfully\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/healthcheck/check": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "healthcheck"
                ],
                "summary": "check health of the database",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": \"healthcheck started.\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/healthcheck/check/host-info": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "healthcheck"
                ],
                "summary": "check health of the database by host ip and port number",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": \"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/healthcheck/result/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "healthcheck"
                ],
                "summary": "get result by operation id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": []}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/healthcheck/review": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "healthcheck"
                ],
                "summary": "update accuracy review",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": \"{}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/app": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "get all applications",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "add a new application",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/app/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "get application by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "update application by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/app/add-db/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "add database map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/app/add-user/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "add user map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/app/app-name/:name": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "get application by system name",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"app_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/app/delete-db/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "delete database map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [1]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/app/delete-user/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "delete user map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [1]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/app/delete/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "delete app by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "get all databases",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"db_name\": \"db1\", \"cluster_id\": 1, \"cluster_type\": 1, \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "add a new database",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"db_name\": \"db1\", \"cluster_id\": 1, \"cluster_type\": 1, \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/add-app/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "add application map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [1, 2]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/add-user/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "add user map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [1, 2]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/all-owner/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "db"
                ],
                "summary": "get all owners",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/app-owner/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "db"
                ],
                "summary": "get app owners",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/app/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "db"
                ],
                "summary": "get apps by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8, \"owner_group\": \"k\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/db-owner/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "db"
                ],
                "summary": "get db owners",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/delete-app/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "delete application map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [1]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/delete-user/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "delete user map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [1]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/delete/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "delete database by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"db_name\": \"db1\", \"cluster_id\": 1, \"cluster_type\": 1, \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/env/:env_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "get database by env_id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"db_name\": \"db1\", \"cluster_id\": 1, \"cluster_type\": 1, \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/get/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "get database by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"db_name\": \"db1\", \"cluster_id\": 1, \"cluster_type\": 1, \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/mysql-cluster/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "db"
                ],
                "summary": "get mysql cluster by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"middleware_cluster_id\":1,\"monitor_system_id\":1,\"env_id\":1,\"del_flag\":0,\"create_time\":\"2021-02-23T20:57:24.603009+08:00\",\"last_update_time\":\"2021-02-23T20:57:24.603009+08:00\",\"id\":1,\"cluster_name\":\"cluster_name_init\"},{\"monitor_system_id\":1, \"env_id\":1,\"create_time\":\"2021-02-23T04:14:23.707238+08:00\",\"last_update_time\":\"2021-02-23T04:14:23.707238+08:00\",\"id\":2,\"cluster_name\":\"newTest\",\"middleware_cluster_id\":1,\"del_flag\":0}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/name-and-cluster-info": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "get database by db name and cluster info",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"db_name\": \"db1\", \"cluster_id\": 1, \"cluster_type\": 1, \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/db/update/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "database"
                ],
                "summary": "update database by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"db_name\": \"db1\", \"cluster_id\": 1, \"cluster_type\": 1, \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/env": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "environment"
                ],
                "summary": "get all environments",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"env_name\": \"online\", \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "environment"
                ],
                "summary": "add a new environment",
                "parameters": [
                    {
                        "description": "environment name",
                        "name": "env_name",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"env_name\": \"online\", \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/env/:id": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "environment"
                ],
                "summary": "get environment by id",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "environment id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"env_name\": \"online\", \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/env/delete/:id": {
            "post": {
                "produces": [
                    "environment/json"
                ],
                "tags": [
                    "environment"
                ],
                "summary": "delete environment by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": []}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/env/env-name/:env_name": {
            "get": {
                "produces": [
                    "environment/json"
                ],
                "tags": [
                    "environment"
                ],
                "summary": "get environment by Name",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"env_name\": \"online\", \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/env/update/:id": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "environment"
                ],
                "summary": "update environment by id",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "environment id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"env_name\": \"online\", \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-cluster": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware cluster"
                ],
                "summary": "get all middleware clusters",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\":13,\"cluster_name\":\"test001\",\"env_id\":1,\"del_flag\":0,\"create_time\":\"2021-04-09T10:55:43.920406+08:00\",\"last_update_time\":\"2021-04-09T10:55:43.920406+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware cluster"
                ],
                "summary": "add a new middleware cluster",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"del_flag\":0,\"create_time\":\"2021-04-09T16:02:25.541701+08:00\",\"last_update_time\":\"2021-04-09T16:02:25.541701+08:00\",\"id\":14,\"cluster_name\":\"rest_test\",\"env_id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-cluster/add-user/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "add user map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"users\":[{\"del_flag\":0,\"id\":1,\"user_name\":\"zhangsan\",\"department_name\":\"arch\",\"account_name\":\"zs001\",\"email\":\"allinemailtest@163.com\",\"mobile\":\"13012345678\",\"role\":3,\"create_time\":\"2021-10-25T09:21:50.364327+08:00\",\"employee_id\":\"100001\",\"telephone\":\"01012345678\",\"last_update_time\":\"2021-11-22T13:46:20.430926+08:00\"}]}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-cluster/cluster-name/:cluster_name": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware cluster"
                ],
                "summary": "get middleware cluster by name",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\":13,\"cluster_name\":\"test001\", \"env_id\":1,\"del_flag\":0,\"create_time\":\"2021-04-09T10:55:43.920406+08:00\",\"last_update_time\":\"2021-04-09T10:55:43.920406+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-cluster/delete-user/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "delete user map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": {\"users\":[]}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-cluster/env/:env_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware cluster"
                ],
                "summary": "get middleware cluster by env",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"del_flag\":0,\"create_time\":\"2021-04-09T10:55:43.920406+08:00\",\"last_update_time\":\"2021-04-09T10:55:43.920406+08:00\",\"id\":13,\"cluster_name\":\"test001\",\"env_id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-cluster/get/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware cluster"
                ],
                "summary": "get middleware cluster by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\":13,\"cluster_name\":\"test001\",\"env_id\":1,\"del_flag\":0,\"create_time\":\"2021-04-09T10:55:43.920406+08:00\",\"last_update_time\":\"2021-04-09T10:55:43.920406+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-cluster/update/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware cluster"
                ],
                "summary": "update middleware cluster by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\":13,\"cluster_name\":\"new_test\",\"env_id\":1,\"del_flag\":1,\"create_time\":\"2021-04-09T10:55:43.920406+08:00\",\"last_update_time\":\"2021-04-09T10:55:43.920406+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-server": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware server"
                ],
                "summary": "get all middleware servers",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"port_num\":1,\"last_update_time\":\"2021-04-11T23:16:10.281222+08:00\",\"server_name\":\"test001\",\"middleware_role\":1,\"host_ip\":\"3\",\"del_flag\":0,\"create_time\":\"2021-04-07T17:51:00.270268+08:00\",\"id\":1,\"cluster_id\":13},{\"last_update_time\":\"2021-04-09T16:20:03.063295+08:00\",\"id\":2,\"cluster_id\":13,\"server_name\":\"test002\",\"del_flag\":0,\"create_time\":\"2021-04-09T16:20:03.063295+08:00\",\"middleware_role\":2,\"host_ip\":\"2\",\"port_num\":2}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware server"
                ],
                "summary": "add a new middleware server",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\":31,\"middleware_role\":1,\"port_num\":12,\"create_time\":\"2021-04-12T10:59:11.559227+08:00\",\"last_update_time\":\"2021-04-12T10:59:11.559227+08:00\",\"cluster_id\":13,\"server_name\":\"test003\",\"host_ip\":\"123.123.123.1\",\"del_flag\":0}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-server/cluster-id/:cluster_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware server"
                ],
                "summary": "get middleware servers by cluster id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"server_name\":\"test001\",\"middleware_role\":1,\"host_ip\":\"3\",\"del_flag\":0,\"create_time\":\"2021-04-07T17:51:00.270268+08:00\",\"last_update_time\":\"2021-04-11T23:16:10.281222+08:00\",\"id\":1,\"cluster_id\":13,\"port_num\":1},{\"host_ip\":\"2\",\"port_num\":2,\"del_flag\":0,\"last_update_time\":\"2021-04-09T16:20:03.063295+08:00\",\"id\":2,\"cluster_id\":13,\"server_name\":\"test002\",\"middleware_role\":2,\"create_time\":\"2021-04-09T16:20:03.063295+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-server/delete/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware server"
                ],
                "summary": "delete middleware server by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": []}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-server/get/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware server"
                ],
                "summary": "get middleware server by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\":1,\"middleware_role\":1,\"del_flag\":0,\"last_update_time\":\"2021-04-11T23:16:10.281222+08:00\",\"cluster_id\":13,\"server_name\":\"test001\",\"host_ip\":\"3\",\"port_num\":1,\"create_time\":\"2021-04-07T17:51:00.270268+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-server/host-info": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware server"
                ],
                "summary": "get middleware server by host info",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"cluster_id\":13,\"server_name\":\"test001\",\"port_num\":1,\"last_update_time\":\"2021-04-11T23:16:10.281222+08:00\",\"id\":1,\"middleware_role\":1,\"host_ip\":\"3\",\"del_flag\":0,\"create_time\":\"2021-04-07T17:51:00.270268+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/middleware-server/update/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "middleware server"
                ],
                "summary": "update middleware server by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"server_name\":\"newTest\",\"host_ip\":\"123.123.123.1\",\"last_update_time\":\"2021-04-12T10:59:11.559227+08:00\",\"id\":31,\"cluster_id\":13,\"port_num\":12,\"del_flag\":1,\"create_time\":\"2021-04-12T10:59:11.559227+08:00\",\"middleware_role\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/monitor-system": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "monitor system"
                ],
                "summary": "get all monitor systems",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"system_name\": \"pmm\", \"system_type\": 1, \"host_ip\": \"127.0.0.1\", \"port_num\": 3306, \"port_num_slow\": 3307, \"base_url\": \"http://127.0.0.1/prometheus/api/v1/\", \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "monitor system"
                ],
                "summary": "add a new monitor system",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"system_name\": \"pmm\", \"system_type\": 1, \"host_ip\": \"127.0.0.1\", \"port_num\": 3306, \"port_num_slow\": 3307, \"base_url\": \"http://127.0.0.1/prometheus/api/v1/\", \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/monitor-system/delete/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "monitor system"
                ],
                "summary": "delete monitor system by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"system_name\": \"pmm\", \"system_type\": 1, \"host_ip\": \"127.0.0.1\", \"port_num\": 3306, \"port_num_slow\": 3307, \"base_url\": \"http://127.0.0.1/prometheus/api/v1/\", \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/monitor-system/env/:env_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "monitor system"
                ],
                "summary": "get monitor system by env_id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"system_name\": \"pmm\", \"system_type\": 1, \"host_ip\": \"127.0.0.1\", \"port_num\": 3306, \"port_num_slow\": 3307, \"base_url\": \"http://127.0.0.1/prometheus/api/v1/\", \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/monitor-system/get/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "monitor system"
                ],
                "summary": "get monitor system by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"system_name\": \"pmm\", \"system_type\": 1, \"host_ip\": \"127.0.0.1\", \"port_num\": 3306, \"port_num_slow\": 3307, \"base_url\": \"http://127.0.0.1/prometheus/api/v1/\", \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/monitor-system/host-info": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "monitor system"
                ],
                "summary": "get monitor system by host info",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"system_name\": \"pmm\", \"system_type\": 1, \"host_ip\": \"127.0.0.1\", \"port_num\": 3306, \"port_num_slow\": 3307, \"base_url\": \"http://127.0.0.1/prometheus/api/v1/\", \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/monitor-system/update/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "monitor system"
                ],
                "summary": "update monitor system by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 1, \"system_name\": \"pmm\", \"system_type\": 1, \"host_ip\": \"127.0.0.1\", \"port_num\": 3306, \"port_num_slow\": 3307, \"base_url\": \"http://127.0.0.1/prometheus/api/v1/\", \"env_id\": 1, \"del_flag\": 0, \"create_time\": \"2021-01-22T09:59:21.379851+08:00\", \"last_update_time\": \"2021-01-22T09:59:21.379851+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get all mysql clusters",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"middleware_cluster_id\":1,\"monitor_system_id\":1,\"env_id\":1,\"del_flag\":0,\"create_time\":\"2021-02-23T20:57:24.603009+08:00\",\"last_update_time\":\"2021-02-23T20:57:24.603009+08:00\",\"id\":1,\"cluster_name\":\"cluster_name_init\",\"owner_id\":1},{\"monitor_system_id\":1,\"owner_id\":1,\"env_id\":1,\"create_time\":\"2021-02-23T04:14:23.707238+08:00\",\"last_update_time\":\"2021-02-23T04:14:23.707238+08:00\",\"id\":2,\"cluster_name\":\"newTest\",\"middleware_cluster_id\":1,\"del_flag\":0}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "add a new mysql cluster",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"cluster_name\":\"api_test\",\"monitor_system_id\":0,\"owner_group\":\"\",\"del_flag\":0,\"create_time\":\"2021-02-24T02:33:50.936279+08:00\",\"last_update_time\":\"2021-02-24T02:33:50.936279+08:00\",\"middleware_cluster_id\":0,\"owner_id\":0,\"env_id\":0,\"id\":154}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get mysql cluster by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"owner_id\":1,\"del_flag\":0,\"create_time\":\"2021-02-23T20:57:24.603009+08:00\",\"id\":1,\"monitor_system_id\":1,\"env_id\":1,\"last_update_time\":\"2021-02-23T20:57:24.603009+08:00\",\"cluster_name\":\"cluster_name_init\",\"middleware_cluster_id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "update mysql cluster by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\":154,\"middleware_cluster_id\":0,\"owner_id\":0,\"env_id\":0,\"create_time\":\"2021-02-24T02:33:50.936279+08:00\",\"cluster_name\":\"api_test\",\"monitor_system_id\":0,\"owner_group\":\"\",\"del_flag\":1,\"last_update_time\":\"2021-02-24T02:33:50.936279+08:00\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/add-user/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "add user map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"user_id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/all-user/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get all users",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/app-user/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get app users",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/cluster-name/:name": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get mysql cluster by name",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"owner_id\":1,\"del_flag\":0,\"create_time\":\"2021-02-23T20:57:24.603009+08:00\",\"id\":1,\"monitor_system_id\":1,\"env_id\":1,\"last_update_time\":\"2021-02-23T20:57:24.603009+08:00\",\"cluster_name\":\"cluster_name_init\",\"middleware_cluster_id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/db-user/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get db users",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/db/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get dbs by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/delete-user/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "delete user map",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"user_id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/master-server/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get master servers by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"owner_id\":1,\"del_flag\":0,\"create_time\":\"2021-02-23T20:57:24.603009+08:00\",\"id\":1,\"monitor_system_id\":1,\"env_id\":1,\"last_update_time\":\"2021-02-23T20:57:24.603009+08:00\",\"cluster_name\":\"cluster_name_init\",\"middleware_cluster_id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/mysql-server/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get mysql servers by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"owner_id\":1,\"del_flag\":0,\"create_time\":\"2021-02-23T20:57:24.603009+08:00\",\"id\":1,\"monitor_system_id\":1,\"env_id\":1,\"last_update_time\":\"2021-02-23T20:57:24.603009+08:00\",\"cluster_name\":\"cluster_name_init\",\"middleware_cluster_id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-cluster/user/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql cluster"
                ],
                "summary": "get mysql cluster users",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-server": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql server"
                ],
                "summary": "get all mysql servers",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"cluster_id\":1,\"deployment_type\":1,\"host_ip\":\"host_ip_init\",\"port_num\":3306,\"version\":\"1.1.1\",\"del_flag\":0,\"create_time\":\"2021-02-23T23:43:37.236228+08:00\",\"last_update_time\":\"2021-02-23T23:43:37.236228+08:00\",\"id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql server"
                ],
                "summary": "add a new mysql server",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"create_time\":\"2021-02-24T02:47:19.589172+08:00\",\"del_flag\":0,\"last_update_time\":\"2021-02-24T02:47:19.589172+08:00\",\"id\":93,\"cluster_id\":0,\"host_ip\":\"192.168.1.1\",\"port_num\":3306,\"deployment_type\":0,\"version\":\"5.7.35\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-server/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql server"
                ],
                "summary": "get mysql servers by host info",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"last_update_time\":\"2021-02-24T02:47:19.589172+08:00\",\"id\":93,\"cluster_id\":0,\"host_ip\":\"192.168.1.1\",\"version\":\"5.7.35\",\"del_flag\":1,\"create_time\":\"2021-02-24T02:47:19.589172+08:00\",\"port_num\":3306,\"deployment_type\":0}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql server"
                ],
                "summary": "update mysql server by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"last_update_time\":\"2021-02-24T02:47:19.589172+08:00\",\"id\":93,\"cluster_id\":0,\"host_ip\":\"192.168.1.1\",\"version\":\"5.7.35\",\"del_flag\":1,\"create_time\":\"2021-02-24T02:47:19.589172+08:00\",\"port_num\":3306,\"deployment_type\":0}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-server/cluster-id/:cluster_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql server"
                ],
                "summary": "get mysql servers by cluster id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"cluster_id\":1,\"deployment_type\":1,\"host_ip\":\"host_ip_init\",\"port_num\":3306,\"version\":\"1.1.1\",\"del_flag\":0,\"create_time\":\"2021-02-23T23:43:37.236228+08:00\",\"last_update_time\":\"2021-02-23T23:43:37.236228+08:00\",\"id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-server/get/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql server"
                ],
                "summary": "get mysql server by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"port_num\":3306,\"del_flag\":0,\"version\":\"1.1.1\",\"create_time\":\"2021-02-23T23:43:37.236228+08:00\",\"last_update_time\":\"2021-02-23T23:43:37.236228+08:00\",\"id\":1,\"cluster_id\":1,\"host_ip\":\"host_ip_init\",\"deployment_type\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-server/host-info": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql server"
                ],
                "summary": "get mysql servers by host info",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"cluster_id\":1,\"deployment_type\":1,\"host_ip\":\"host_ip_init\",\"port_num\":3306,\"version\":\"1.1.1\",\"del_flag\":0,\"create_time\":\"2021-02-23T23:43:37.236228+08:00\",\"last_update_time\":\"2021-02-23T23:43:37.236228+08:00\",\"id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-server/is-master/host-info": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql server"
                ],
                "summary": "check if mysql server is a master node",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": {\"is_master\": \"true\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/mysql-server/mysql-cluster/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mysql server"
                ],
                "summary": "get mysql cluster by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"owner_id\":1,\"del_flag\":0,\"create_time\":\"2021-02-23T20:57:24.603009+08:00\",\"id\":1,\"monitor_system_id\":1,\"env_id\":1,\"last_update_time\":\"2021-02-23T20:57:24.603009+08:00\",\"cluster_name\":\"cluster_name_init\",\"middleware_cluster_id\":1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "add a new user",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/account-name/:account_name": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get user by AccountName",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/app/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get apps by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8,\"owner_group\": \"k\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/db/:id": {
            "get": {
                "produces": [
                    "db/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get dbs by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8,\"owner_group\": \"k\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/delete/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "delete user by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": []}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/email/:email": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get user by Email",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/employee-id/:employee_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get user by EmployeeID",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/get/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get user by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/middlewarecluster/:id": {
            "get": {
                "produces": [
                    "middlewarecluster/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get middlewareclusters by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8,\"owner_group\": \"k\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/mobile/:mobile": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get user by Mobile",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/mysqlclustercluster/:id": {
            "get": {
                "produces": [
                    "mysqlclustercluster/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get mysqlclusterclusters by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"id\": 66, \"system_name\": \"kkk\", \"del_flag\": 0, \"create_time\": \"2021-01-21T10:00:00+08:00\", \"last_update_time\": \"2021-01-21T10:00:00+08:00\", \"level\": 8,\"owner_id\": 8,\"owner_group\": \"k\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/telephone/:telephone": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get user by Telephone",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/update/:id": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "update user by id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metadata/user/user-name/:user_name": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get user by Name",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"department_name\": \"dn\",\"accountNameStruct = \"AccountName\"\": \"da\", \"mobile\": \"m\", \"del_flag\": 0,\"last_update_time\": \"2021-01-21T13:00:00+08:00\",\"user_name\": \"un\",\"create_time\": \"2021-01-21T13:00:00+08:00\",\"employee_id\": 1,\"email\": \"e\",\"telephone\": \"t\",\"role\": 1, \"id\": 1}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/query/:sql_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "query"
                ],
                "summary": "get slow query by query id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": []}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/query/cluster/:mysql_cluster_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "query"
                ],
                "summary": "get slow queries by mysql server id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": []}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/query/db/:db_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "query"
                ],
                "summary": "get slow queries by db id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": []}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/query/server/:mysql_server_id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "query"
                ],
                "summary": "get slow queries by mysql server id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": []}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/sqladvisor/advise": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sqladvisor"
                ],
                "summary": "get advice",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"sql_text\": \"select * from t01\", \"advice\": \"xxx\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/sqladvisor/fingerprint/": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sqladvisor"
                ],
                "summary": "get sql fingerprint",
                "responses": {
                    "200": {
                        "description": "{\"fingerprint\": \"select * from a\",\"sql_text\": \"select * from a;\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/sqladvisor/sql-id/": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sqladvisor"
                ],
                "summary": "get sql id",
                "responses": {
                    "200": {
                        "description": "{\"sql_id\": \"EE56B94E867DC9D5\",\"sql_text\": \"select * from a;\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/vi/metadata/app/db/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "get dbs",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [1, 2]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/vi/metadata/app/user/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "get users",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [1, 2]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/vi/metadata/middleware-cluster/users/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "get middleware servers by cluster id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [{\"users\":[{\"id\":1,\"department_name\":\"arch\",\"email\":\"allinemailtest@163.com\",\"mobile\":\"13012345678\",\"last_update_time\":\"2021-11-22T13:46:20.430926+08:00\",\"create_time\":\"2021-10-25T09:21:50.364327+08:00\",\"user_name\":\"zhangsan\",\"employee_id\":\"100001\",\"account_name\":\"zs001\",\"telephone\":\"01012345678\",\"role\":3,\"del_flag\":0}]}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/vi/metadata/middleware-server/:id": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "application"
                ],
                "summary": "get middleware servers by cluster id",
                "responses": {
                    "200": {
                        "description": "{\"code\": 200, \"data\": [1,2]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    }
}